/**
 * ChatBot Theme Variables
 *
 * Custom CSS variables extending Infima for ChatBot styling.
 * These integrate with Docusaurus theming system.
 *
 * Feature: 007-rag-chatbot-ui
 * Requirements: FR-017, FR-031, FR-032, FR-024
 */

:root {
  /* ============================================
     ChatBot Primary Colors
     ============================================ */
  --chatbot-primary: var(--ifm-color-primary, #3578e5);
  --chatbot-primary-dark: var(--ifm-color-primary-dark, #2e6bd1);
  --chatbot-primary-light: var(--ifm-color-primary-lightest, #eef6ff);

  /* ============================================
     ChatBot Background Colors
     ============================================ */
  --chatbot-bg: var(--ifm-background-color, #fff);
  --chatbot-bg-surface: var(--ifm-background-surface-color, #f5f6f7);
  --chatbot-backdrop: rgba(0, 0, 0, 0.3);

  /* ============================================
     ChatBot Text Colors
     ============================================ */
  --chatbot-text: var(--ifm-color-content, #1c1e21);
  --chatbot-text-secondary: var(--ifm-color-content-secondary, #606770);

  /* ============================================
     ChatBot Border Colors
     ============================================ */
  --chatbot-border: var(--ifm-color-emphasis-300, #dadde1);
  --chatbot-border-light: var(--ifm-color-emphasis-200, #ebedf0);

  /* ============================================
     ChatBot Message Colors
     ============================================ */
  --chatbot-user-bubble: var(--ifm-color-primary, #3578e5);
  --chatbot-user-text: #fff;
  --chatbot-assistant-bubble: var(--ifm-color-emphasis-100, #f5f6f7);
  --chatbot-assistant-text: var(--ifm-color-content, #1c1e21);

  /* ============================================
     ChatBot Layout (Desktop - FR-031)
     ============================================ */
  --chatbot-panel-width: 400px;
  --chatbot-panel-max-height: 80vh;
  --chatbot-panel-right: 24px;
  --chatbot-panel-bottom: 96px;
  --chatbot-panel-radius: 12px;

  /* ============================================
     ChatBot FAB
     ============================================ */
  --chatbot-fab-size: 56px;
  --chatbot-fab-right: 24px;
  --chatbot-fab-bottom: 24px;

  /* ============================================
     ChatBot Shadows
     ============================================ */
  --chatbot-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
  --chatbot-shadow-fab: 0 4px 12px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
  --chatbot-shadow-fab-hover: 0 6px 16px rgba(0, 0, 0, 0.2), 0 3px 6px rgba(0, 0, 0, 0.15);

  /* ============================================
     ChatBot Transitions
     ============================================ */
  --chatbot-transition-fast: 0.15s ease;
  --chatbot-transition-normal: 0.2s ease;
  --chatbot-transition-slow: 0.3s ease-out;

  /* ============================================
     ChatBot Z-Index Layers
     ============================================ */
  --chatbot-z-fab: 1000;
  --chatbot-z-backdrop: 1001;
  --chatbot-z-panel: 1002;
}

/* ============================================
   Tablet Layout (FR-032)
   ============================================ */
@media (min-width: 768px) and (max-width: 995px) {
  :root {
    --chatbot-panel-width: 350px;
    --chatbot-panel-max-height: 85vh;
    --chatbot-panel-right: 16px;
    --chatbot-panel-bottom: 88px;
  }
}

/* ============================================
   Mobile Layout (FR-024)
   ============================================ */
@media (max-width: 767px) {
  :root {
    --chatbot-panel-width: 100%;
    --chatbot-panel-max-height: 70vh;
    --chatbot-panel-right: 0;
    --chatbot-panel-bottom: 0;
    --chatbot-panel-radius: 16px 16px 0 0;
    --chatbot-backdrop: rgba(0, 0, 0, 0.5);
    --chatbot-fab-size: 52px;
    --chatbot-fab-right: 16px;
    --chatbot-fab-bottom: 16px;
  }
}

/* ============================================
   Dark Mode Overrides (FR-011)
   ============================================ */
[data-theme='dark'] {
  --chatbot-bg: var(--ifm-background-color, #1b1b1d);
  --chatbot-bg-surface: var(--ifm-background-surface-color, #242526);
  --chatbot-border: var(--ifm-color-emphasis-300, #444950);
  --chatbot-border-light: var(--ifm-color-emphasis-300, #444950);
  --chatbot-assistant-bubble: var(--ifm-color-emphasis-200, #303033);
  --chatbot-primary-light: rgba(53, 120, 229, 0.15);
  --chatbot-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

/* ============================================
   Theme Transition Smoothness (T054, SC-006)
   Transitions complete within 200ms
   ============================================ */
.chatbot-theme-transition,
.chatbot-theme-transition * {
  transition:
    background-color var(--chatbot-transition-normal),
    border-color var(--chatbot-transition-normal),
    color var(--chatbot-transition-normal),
    box-shadow var(--chatbot-transition-normal) !important;
}

/* ============================================
   Reduced Motion Preference
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  :root {
    --chatbot-transition-fast: 0s;
    --chatbot-transition-normal: 0s;
    --chatbot-transition-slow: 0s;
  }
}
