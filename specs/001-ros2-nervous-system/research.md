# Research: Module 1 – The Robotic Nervous System (ROS 2)

**Feature Branch**: `001-ros2-nervous-system`
**Date**: 2025-12-14
**Status**: Complete

## Research Areas

### 1. Docusaurus Configuration Strategy

**Decision**: Use Docusaurus Classic Theme with `docs` plugin (not `pages`)

**Rationale**:
- Classic theme provides built-in sidebar navigation, versioning, and search
- `docs` plugin is optimized for structured educational content with hierarchical organization
- Automatic sidebar generation from directory structure reduces maintenance overhead
- Built-in MDX support enables future interactive components without migration
- Strong community support and extensive documentation

**Alternatives Considered**:
- Custom theme: Rejected due to increased development time and maintenance burden
- Pages plugin: Rejected as it lacks hierarchical navigation and versioning features needed for educational content
- Docusaurus 3 with custom plugins: Rejected as unnecessary complexity for current scope

### 2. Module and Chapter Structuring Strategy

**Decision**: File-based hierarchy with numbered prefixes for ordering

**Rationale**:
- `docs/module-01-ros2-nervous-system/` as module directory
- `01-ros2-overview.md`, `02-core-primitives.md`, etc. as chapter files
- Numbered prefixes ensure consistent ordering across file systems
- Module-level `_category_.json` for sidebar customization
- Supports future RAG ingestion via predictable file paths

**Directory Structure**:
```
docs/
├── module-01-ros2-nervous-system/
│   ├── _category_.json
│   ├── index.md (module overview)
│   ├── 01-ros2-overview.md
│   ├── 02-core-primitives.md
│   ├── 03-rclpy-integration.md
│   └── 04-urdf-humanoids.md
├── module-02-digital-twins/
├── module-03-nvidia-isaac/
├── module-04-vla-systems/
└── module-05-capstone/
```

**Alternatives Considered**:
- Flat file structure: Rejected as it doesn't scale for 5 modules with multiple chapters
- Single file per module: Rejected due to poor navigation UX and large file sizes
- Nested subdirectories per chapter: Rejected as over-engineering for content without sub-sections

### 3. Markdown Conventions and Frontmatter Standards

**Decision**: Standardized frontmatter with RAG-compatible metadata

**Rationale**:
- Consistent frontmatter enables automated content processing for RAG ingestion
- `sidebar_position` controls navigation order
- `keywords` and `description` improve discoverability and RAG relevance
- Custom `learning_objectives` field supports educational tracking

**Standard Frontmatter Template**:
```yaml
---
id: chapter-slug
title: Chapter Title
sidebar_label: Short Label
sidebar_position: 1
description: Brief description for SEO and RAG
keywords: [keyword1, keyword2, keyword3]
learning_objectives:
  - Objective 1
  - Objective 2
---
```

**Alternatives Considered**:
- Minimal frontmatter (title only): Rejected as insufficient for RAG and navigation
- Extended frontmatter with author/version: Rejected as unnecessary for single-author educational content
- No frontmatter (auto-generated): Rejected for loss of control over metadata

### 4. Navigation and Sidebar Approach

**Decision**: Auto-generated sidebar with category customization

**Rationale**:
- `sidebars.js` uses `autogenerated` type for each module directory
- `_category_.json` in each module provides label and position
- Reduces manual sidebar maintenance as content grows
- Supports collapsible module sections for navigation clarity

**Configuration Pattern**:
```javascript
// sidebars.js
module.exports = {
  bookSidebar: [
    {
      type: 'autogenerated',
      dirName: 'module-01-ros2-nervous-system',
    },
    // Additional modules...
  ],
};
```

**Alternatives Considered**:
- Fully manual sidebar: Rejected due to maintenance overhead
- Single flat sidebar: Rejected as it doesn't support module grouping
- Multiple sidebars per module: Rejected as overly complex for sequential content

### 5. Content Reuse Strategy for RAG Ingestion

**Decision**: Single-source Markdown with semantic chunking markers

**Rationale**:
- Book content serves as sole source of truth per Constitution Principle III
- Custom HTML comments mark semantic boundaries for chunking: `<!-- chunk:concept-name -->`
- Frontmatter `keywords` enable topic-based retrieval
- Code blocks tagged with `language` and `title` for snippet extraction
- Maximum chunk size: ~500 tokens to optimize for embedding model context windows

**Chunking Strategy**:
```markdown
<!-- chunk:dds-overview -->
## Data Distribution Service (DDS)

DDS is the middleware layer that enables ROS 2's pub/sub communication...

<!-- /chunk -->
```

**Alternatives Considered**:
- Separate RAG-specific content files: Rejected per single-source-of-truth requirement
- Post-processing extraction: Rejected as it breaks traceability
- No explicit chunking: Rejected as it leads to poor retrieval quality

### 6. Simplicity vs Extensibility Tradeoffs

**Decision**: Favor simplicity with documented extension points

**Rationale**:
- Start with minimal viable Docusaurus configuration
- Avoid premature optimization for features not in scope (auth, i18n, versioning)
- Document extension points for future RAG integration in comments
- Use standard Docusaurus patterns to enable community plugin adoption later

**Extension Points Identified**:
1. **Chatbot Widget**: Custom React component slot in `docusaurus.config.js` theme configuration
2. **Content Processing**: Build-time plugin hook for RAG content extraction
3. **Analytics**: Standard Docusaurus analytics plugin slot
4. **Search**: Algolia DocSearch or local search plugin slot

**Alternatives Considered**:
- Full extensibility upfront: Rejected as over-engineering for current scope
- No extension planning: Rejected as it may require refactoring for RAG integration

## Technical References

### Authoritative Sources

| Topic | Reference | Purpose |
|-------|-----------|---------|
| ROS 2 Architecture | [ROS 2 Design Documentation](https://design.ros2.org/) | Official design rationale and concepts |
| ROS 2 DDS | [ROS 2 DDS Concepts](https://docs.ros.org/en/humble/Concepts/About-Different-Middleware-Vendors.html) | DDS middleware explanation |
| rclpy API | [rclpy Documentation](https://docs.ros.org/en/humble/p/rclpy/) | Python client library reference |
| URDF | [URDF Specification](http://wiki.ros.org/urdf/XML) | Robot description format |
| Docusaurus | [Docusaurus Documentation](https://docusaurus.io/docs) | Framework configuration |

### Learning Objectives by Chapter

**Chapter 1: ROS 2 as the Robotic Nervous System**
- Define ROS 2 and explain its role as middleware
- Compare ROS 2 communication to biological nervous system functions
- Describe the purpose of DDS in real-time robot communication

**Chapter 2: ROS 2 Core Primitives**
- Explain the ROS 2 node lifecycle
- Differentiate between Topics, Services, and Actions
- Illustrate data flow patterns in humanoid robot systems

**Chapter 3: Bridging Python AI Agents to ROS 2**
- Describe rclpy architecture and execution model
- Demonstrate publishing and subscribing patterns
- Explain how AI agents can command robot motion via ROS 2

**Chapter 4: Understanding URDF for Humanoid Robots**
- Identify URDF structural elements (links, joints, transmissions)
- Explain humanoid kinematic modeling concepts
- Connect URDF to simulation and digital twin applications

## Resolved Clarifications

| Item | Resolution |
|------|------------|
| Docusaurus version | Latest stable (3.x) per constitution |
| Theme choice | Classic theme for built-in features |
| Sidebar approach | Auto-generated with category customization |
| RAG chunking | Semantic markers in Markdown comments |
| Code snippet style | Illustrative, non-executable, commented |
